<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="author" content="Shinzo Suzuki - Full Stack Developer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Miami Alagoana - Guia Completo de Macei√≥ e Alagoas</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css"
    />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    <script src="js/script.js"></script>
  </head>
  <body>
    <header class="bg-animation">
      <div class="container">
        <div class="logo">
          <span class="logo-icon">üèñÔ∏è</span>
          <span class="gradient-text">Miami Alagoana</span>
        </div>
        <p class="tagline">
          Seu guia completo para Macei√≥ e todo o estado de Alagoas
        </p>
        <div class="search-container">
          <input
            type="text"
            class="search-input"
            placeholder="O que voc√™ procura?"
          />
          <button class="search-button">Buscar</button>
        </div>
      </div>
    </header>

    <main class="container">
      <!-- Categories Section -->
      <section class="categories fade-in-up">
        <div class="category">
          <div class="category-icon">üèõÔ∏è</div>
          <div class="category-name">Pontos Tur√≠sticos</div>
        </div>
        <div class="category">
          <div class="category-icon">üè®</div>
          <div class="category-name">Hot√©is</div>
        </div>
        <div class="category">
          <div class="category-icon">üçΩÔ∏è</div>
          <div class="category-name">Restaurantes</div>
        </div>
        <div class="category">
          <div class="category-icon">üè•</div>
          <div class="category-name">Sa√∫de</div>
        </div>
        <div class="category">
          <div class="category-icon">üè´</div>
          <div class="category-name">Educa√ß√£o</div>
        </div>
        <div class="category">
          <div class="category-icon">üé≠</div>
          <div class="category-name">Eventos</div>
        </div>
        <div class="category">
          <div class="category-icon">üëÆ</div>
          <div class="category-name">Seguran√ßa</div>
        </div>
        <div class="category" onclick="window.location.href='shoppings.html'">
          <div class="category-icon">üõçÔ∏è</div>
          <div class="category-name">Shoppings</div>
        </div>
        <div
          class="category"
          onclick="window.location.href='calcadao-maceio.html'"
        >
          <div class="category-icon">üö∂</div>
          <div class="category-name">Cal√ßad√£o de Macei√≥</div>
        </div>
        <div class="category" onclick="window.location.href='bancos.html'">
          <div class="category-icon">üè¶</div>
          <div class="category-name">Bancos e Financeiras</div>
        </div>
        <div
          class="category"
          onclick="window.location.href='supermercados.html'"
        >
          <div class="category-icon">üõí</div>
          <div class="category-name">Supermercados</div>
        </div>
      </section>

      <!-- Highlights Section -->
      <section class="highlights">
        <h2 class="section-title">Destinos Imperd√≠veis</h2>
        <div class="highlight-grid">
          <div class="highlight-card" data-lat="-9.665" data-lng="-35.715">
            <div
              class="highlight-image"
              style="background: url('img/pajucara.jpg') center/cover no-repeat"
            ></div>
            <div class="highlight-content">
              <h3 class="highlight-title">Praia de Paju√ßara</h3>
              <p class="highlight-location">Macei√≥, AL</p>
              <div class="highlight-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <div class="highlight-card" data-lat="-9.661" data-lng="-35.704">
            <div
              class="highlight-image"
              style="
                background: url('img/ponta-verde.jpg') center/cover no-repeat;
              "
            ></div>
            <div class="highlight-content">
              <h3 class="highlight-title">Ponta Verde</h3>
              <p class="highlight-location">Macei√≥, AL</p>
              <div class="highlight-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <div class="highlight-card" data-lat="-9.668" data-lng="-35.736">
            <div
              class="highlight-image"
              style="
                background: url('img/museu-imagem.jpg') center/cover no-repeat;
              "
            ></div>
            <div class="highlight-content">
              <h3 class="highlight-title">Museu da Imagem</h3>
              <p class="highlight-location">Macei√≥, AL</p>
              <div class="highlight-rating">‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <div class="highlight-card" data-lat="-9.652" data-lng="-35.704">
            <div
              class="highlight-image"
              style="background: url('img/jatiuca.jpg') center/cover no-repeat"
            ></div>
            <div class="highlight-content">
              <h3 class="highlight-title">Praia de Jati√∫ca</h3>
              <p class="highlight-location">Macei√≥, AL</p>
              <div class="highlight-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <div class="highlight-card" data-lat="-9.563" data-lng="-35.643">
            <div
              class="highlight-image"
              style="background: url('img/maragogi.jpg') center/cover no-repeat"
            ></div>
            <div class="highlight-content">
              <h3 class="highlight-title">Praia de Maragogi</h3>
              <p class="highlight-location">Maragogi, AL</p>
              <div class="highlight-rating">‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <div class="highlight-card" data-lat="-9.585" data-lng="-35.660">
            <div
              class="highlight-image"
              style="
                background: url('img/carro-quebrado.jpg') center/cover no-repeat;
              "
            ></div>
            <div class="highlight-content">
              <h3 class="highlight-title">Praia de Carro Quebrado</h3>
              <p class="highlight-location">Macei√≥, AL</p>
              <div class="highlight-rating">‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <div class="highlight-card" data-lat="-9.856" data-lng="-35.905">
            <div
              class="highlight-image"
              style="background: url('img/gunga.jpg') center/cover no-repeat"
            ></div>
            <div class="highlight-content">
              <h3 class="highlight-title">Praia do Gunga</h3>
              <p class="highlight-location">Roteiro, AL</p>
              <div class="highlight-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <div class="highlight-card" data-lat="-9.773" data-lng="-35.837">
            <div
              class="highlight-image"
              style="background: url('img/frances.jpg') center/cover no-repeat"
            ></div>
            <div class="highlight-content">
              <h3 class="highlight-title">Praia do Franc√™s</h3>
              <p class="highlight-location">Marechal Deodoro, AL</p>
              <div class="highlight-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
          <div class="highlight-card" data-lat="-9.840" data-lng="-35.903">
            <div
              class="highlight-image"
              style="
                background: url('img/barra-sao-miguel.jpg') center/cover
                  no-repeat;
              "
            ></div>
            <div class="highlight-content">
              <h3 class="highlight-title">Barra de S√£o Miguel</h3>
              <p class="highlight-location">Barra de S√£o Miguel, AL</p>
              <div class="highlight-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Testimonials Section -->
      <section class="testimonials">
        <h2 class="section-title">O que dizem nossos visitantes</h2>
        <div class="testimonial-grid">
          <div class="testimonial-card">
            <div class="testimonial-header">
              <div class="testimonial-avatar">üë§</div>
              <div class="testimonial-info">
                <h3 class="testimonial-name">Maria Silva</h3>
                <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
              </div>
            </div>
            <p class="testimonial-text">
              "Amei as dicas! A Praia de Paju√ßara √© realmente incr√≠vel. O guia
              me ajudou muito a planejar minha viagem."
            </p>
          </div>
          <div class="testimonial-card">
            <div class="testimonial-header">
              <div class="testimonial-avatar">üë§</div>
              <div class="testimonial-info">
                <h3 class="testimonial-name">Jo√£o Souza</h3>
                <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
              </div>
            </div>
            <p class="testimonial-text">
              "O melhor guia de Alagoas. Encontrei √≥timos restaurantes e hot√©is
              com pre√ßos acess√≠veis."
            </p>
          </div>
          <div class="testimonial-card">
            <div class="testimonial-header">
              <div class="testimonial-avatar">üë§</div>
              <div class="testimonial-info">
                <h3 class="testimonial-name">Ana Costa</h3>
                <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê</div>
              </div>
            </div>
            <p class="testimonial-text">
              "Muito √∫til! As informa√ß√µes sobre transporte me salvaram.
              Recomendo a todos que v√£o visitar Macei√≥."
            </p>
          </div>
        </div>
      </section>

      <!-- Map Section -->
      <section class="map-section">
        <h2 class="section-title">Mapa Interativo</h2>
        <div id="map"></div>
      </section>

      <!-- Events Section -->
      <section class="events">
        <h2 class="section-title">Eventos em Destaque</h2>
        <div class="event-list">
          <p style="text-align: center; color: var(--text-muted)">
            Nenhum evento em destaque no momento.
          </p>
        </div>
      </section>

      <!-- Transportation Section -->
      <section class="transportation">
        <h2 class="section-title">Transporte P√∫blico</h2>
        <div class="transport-options">
          <div class="transport-option">
            <div class="transport-icon">üöå</div>
            <div class="transport-name">√înibus</div>
            <p class="transport-description">
              Linhas urbanas e intermunicipais
            </p>
          </div>
          <div class="transport-option">
            <div class="transport-icon">üöï</div>
            <div class="transport-name">T√°xi</div>
            <p class="transport-description">
              T√°xis convencionais e aplicativos
            </p>
          </div>
          <div class="transport-option">
            <div class="transport-icon">üìç</div>
            <div class="transport-name">Terminal Rodovi√°rio</div>
            <p class="transport-description">Rodovi√°ria de Macei√≥</p>
          </div>
          <div class="transport-option">
            <div class="transport-icon">‚úàÔ∏è</div>
            <div class="transport-name">Aeroporto</div>
            <p class="transport-description">Zumbi dos Palmares - Macei√≥</p>
          </div>
        </div>
      </section>

      <!-- Safety Section -->
      <section class="safety">
        <h2 class="section-title">Emerg√™ncia e Seguran√ßa</h2>
        <div class="safety-grid">
          <div class="safety-card">
            <div class="safety-icon">üö®</div>
            <h3 class="safety-title">Pol√≠cia Militar</h3>
            <p class="safety-contact">190</p>
          </div>
          <div class="safety-card">
            <div class="safety-icon">üöë</div>
            <h3 class="safety-title">SAMU</h3>
            <p class="safety-contact">192</p>
          </div>
          <div class="safety-card">
            <div class="safety-icon">üöí</div>
            <h3 class="safety-title">Bombeiros</h3>
            <p class="safety-contact">193</p>
          </div>
          <div class="safety-card">
            <div class="safety-icon">üèõÔ∏è</div>
            <h3 class="safety-title">Delegacias</h3>
            <p class="safety-contact">Consulte no mapa</p>
          </div>
        </div>
      </section>

      <!-- Download Section -->
      <section class="download-section">
        <h2 class="section-title">Baixe o Aplicativo</h2>
        <div class="download-buttons">
          <a href="#" class="download-btn play-store">
            <span>üì±</span>
            <span>Google Play</span>
          </a>
          <a href="#" class="download-btn app-store">
            <span>üì±</span>
            <span>App Store</span>
          </a>
        </div>
      </section>
    </main>

    <footer>
      <div class="container">
        <div class="footer-links">
          <a href="sobre.html">Sobre</a>
          <a href="contato.html">Contato</a>
          <a href="termos-uso.html">Termos de Uso</a>
          <a href="privacidade.html">Privacidade</a>
        </div>
        <p class="copyright">
          ¬© 2026 Miami Alagoana. Todos os direitos reservados.
        </p>
      </div>
    </footer>

    <!-- Cookie Banner -->
    <div id="cookie-banner" class="cookie-banner">
      <div class="container cookie-content">
        <p>
          Utilizamos cookies para melhorar sua experi√™ncia. Ao continuar
          navegando, voc√™ concorda com nossa
          <a href="privacidade.html">Pol√≠tica de Privacidade</a>.
        </p>
        <button id="accept-cookies" class="btn btn-primary">Aceitar</button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const searchInput = document.querySelector(".search-input");
        const searchButton = document.querySelector(".search-button");

        if (searchInput && searchButton) {
          function performSearch() {
            const query = searchInput.value.toLowerCase().trim();
            if (!query) {
              alert("Por favor, digite o que voc√™ procura.");
              return;
            }

            const pages = {
              paju√ßara: "praia-pajucara.html",
              "ponta verde": "ponta-verde.html",
              jati√∫ca: "praia-jatiuca.html",
              gunga: "praia-gunga.html",
              franc√™s: "praia-frances.html",
              sereia: "praia-sereia.html",
              guaxuma: "praia-guaxuma.html",
              barra: "barra-sao-miguel.html",
              "s√£o miguel": "barra-sao-miguel.html",
              museu: "museu-imagem.html",
              hotel: "hoteis.html",
              hot√©is: "hoteis.html",
              restaurante: "restaurantes.html",
              sa√∫de: "saude.html",
              hospital: "hospitais.html",
              farm√°cia: "farmacias.html",
              transporte: "transporte.html",
              √¥nibus: "transporte.html",
              seguran√ßa: "seguranca.html",
              pol√≠cia: "seguranca.html",
              educa√ß√£o: "educacao.html",
              escola: "educacao.html",
              evento: "eventos.html",
              contato: "contato.html",
              shopping: "shoppings.html",
              cal√ßad√£o: "calcadao-maceio.html",
              calcadao: "calcadao-maceio.html",
              banco: "bancos.html",
              financeira: "bancos.html",
              locadora: "locadoras-veiculos.html",
              aluguel: "locadoras-veiculos.html",
              concession√°ria: "concessionarias-veiculos.html",
              carro: "concessionarias-veiculos.html",
              moto: "concessionarias-motos.html",
              motocicleta: "concessionarias-motos.html",
              caminh√£o: "locacao-pesados.html",
              trator: "locacao-pesados.html",
              padaria: "padarias.html",
              p√£o: "padarias.html",
              supermercado: "supermercados.html",
              mercado: "supermercados.html",
              atacado: "atacado.html",
              flor: "floriculturas.html",
            };

            // Redirecionamento direto
            for (const key in pages) {
              if (query.includes(key)) {
                window.location.href = pages[key];
                return;
              }
            }

            // Scroll para se√ß√µes espec√≠ficas na home se for termo gen√©rico
            if (query.includes("praia") || query.includes("turismo")) {
              const highlights = document.querySelector(".highlights");
              if (highlights) {
                highlights.scrollIntoView({ behavior: "smooth" });
              }
              return;
            }

            alert("Desculpe, n√£o encontramos resultados para: " + query);
          }

          searchButton.addEventListener("click", performSearch);

          searchInput.addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              performSearch();
            }
          });
        }
      });

      // L√≥gica do Mapa e Rotas
      document.addEventListener("DOMContentLoaded", function () {
        var mapContainer = document.getElementById("map");
        if (!mapContainer) return;

        var map;
        // Verifica se o mapa j√° foi inicializado (por js/script.js), caso contr√°rio inicializa
        if (mapContainer._leaflet_id && window.map) {
          map = window.map;
        } else if (!mapContainer._leaflet_id) {
          map = L.map("map").setView([-9.66625, -35.7351], 13); // Macei√≥
          L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
            attribution: "¬© OpenStreetMap contributors",
          }).addTo(map);
          window.map = map;
        } else {
          // Mapa inicializado mas sem refer√™ncia global acess√≠vel, tenta recuperar ou falha silenciosamente
          return;
        }

        var routingControl = null;
        var destinationMarker = null;

        // Selecionar destino ao clicar no mapa
        map.on("click", function (e) {
          if (destinationMarker) {
            map.removeLayer(destinationMarker);
          }
          destinationMarker = L.marker(e.latlng)
            .addTo(map)
            .bindPopup("Destino Selecionado")
            .openPopup();
        });

        // Marcadores Personalizados dos Destaques
        const highlights = [
          { name: "Praia de Paju√ßara", lat: -9.665, lng: -35.715, icon: "üåä" },
          { name: "Ponta Verde", lat: -9.661, lng: -35.704, icon: "üèùÔ∏è" },
          { name: "Museu da Imagem", lat: -9.668, lng: -35.736, icon: "üèõÔ∏è" },
          { name: "Praia de Jati√∫ca", lat: -9.652, lng: -35.704, icon: "üåä" },
          { name: "Praia da Sereia", lat: -9.563, lng: -35.643, icon: "üßú‚Äç‚ôÄÔ∏è" },
          { name: "Praia de Guaxuma", lat: -9.585, lng: -35.66, icon: "üå¥" },
          { name: "Praia do Gunga", lat: -9.856, lng: -35.905, icon: "ü••" },
          { name: "Praia do Franc√™s", lat: -9.773, lng: -35.837, icon: "üá´üá∑" },
          { name: "Barra de S√£o Miguel", lat: -9.84, lng: -35.903, icon: "üö§" },
        ];

        highlights.forEach(function (point) {
          const customIcon = L.divIcon({
            html: `<div style="font-size: 2rem; filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.3));">${point.icon}</div>`,
            className: "custom-div-icon",
            iconSize: [30, 30],
            iconAnchor: [15, 15],
            popupAnchor: [0, -15],
          });

          L.marker([point.lat, point.lng], { icon: customIcon })
            .addTo(map)
            .bindPopup(`<b>${point.name}</b>`);
        });

        // Intera√ß√£o ao clicar nos cards de destaque
        document.querySelectorAll(".highlight-card").forEach((card) => {
          card.addEventListener("click", function () {
            // Remove classe ativa de todos os cards
            document
              .querySelectorAll(".highlight-card")
              .forEach((c) => c.classList.remove("active-card"));
            // Adiciona classe ativa ao card clicado
            this.classList.add("active-card");

            const lat = this.getAttribute("data-lat");
            const lng = this.getAttribute("data-lng");

            if (lat && lng && map) {
              map.flyTo([lat, lng], 15);
              document
                .getElementById("map")
                .scrollIntoView({ behavior: "smooth" });
            }
          });
        });

        // L√≥gica do Banner de Cookies
        const cookieBanner = document.getElementById("cookie-banner");
        const acceptButton = document.getElementById("accept-cookies");

        // Verifica se j√° foi aceito
        if (!localStorage.getItem("cookieConsent")) {
          setTimeout(() => {
            cookieBanner.classList.add("show");
          }, 1000);
        }

        if (acceptButton) {
          acceptButton.addEventListener("click", function () {
            localStorage.setItem("cookieConsent", "true");
            cookieBanner.classList.remove("show");
          });
        }

        // Verifica√ß√£o autom√°tica de imagens quebradas (Fallback)
        function checkAndReplaceImages() {
          // 1. Para tags <img> padr√£o
          document.querySelectorAll("img").forEach((img) => {
            img.addEventListener("error", function () {
              this.src =
                "https://placehold.co/600x400?text=Imagem+Indispon√≠vel";
            });
          });

          // 2. Para elementos com background-image (Destaques, Eventos, etc)
          const bgElements = document.querySelectorAll(
            ".highlight-image, .event-image, .card-image"
          );

          bgElements.forEach((el) => {
            const style =
              el.style.backgroundImage ||
              window.getComputedStyle(el).backgroundImage;

            if (style && style !== "none") {
              const urlMatch = style.match(/url\(['"]?(.*?)['"]?\)/);
              if (urlMatch && urlMatch[1]) {
                const img = new Image();
                const src = urlMatch[1];

                img.onerror = function () {
                  let text = "Imagem";
                  // Tenta encontrar um t√≠tulo pr√≥ximo para usar no placeholder
                  const parent = el.closest(
                    ".highlight-card, .event-card, .card"
                  );
                  if (parent) {
                    const title = parent.querySelector(
                      ".highlight-title, .event-title, h3"
                    );
                    if (title) text = title.innerText;
                  }
                  el.style.backgroundImage = `url('https://placehold.co/600x400?text=${encodeURIComponent(
                    text
                  )}')`;
                };

                img.src = src;
              }
            }
          });
        }

        // Executa a verifica√ß√£o
        checkAndReplaceImages();
      });
    </script>
  </body>
</html>
